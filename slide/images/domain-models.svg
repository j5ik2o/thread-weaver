<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="742px" preserveAspectRatio="none" style="width:2706px;height:742px;" version="1.1" viewBox="0 0 2706 742" width="2706px" zoomAndPan="magnify"><defs><filter height="300%" id="fzlchimitjcj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="4.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="8.0" dy="8.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--class Thread--><rect fill="#FEFECE" filter="url(#fzlchimitjcj)" height="484.6523" id="Thread" style="stroke: #A80036; stroke-width: 3.0;" width="1180" x="12" y="16"/><ellipse cx="551.5" cy="48" fill="#ADD1B2" rx="22" ry="22" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M556.4463,60.2861 Q555.2842,60.8838 554.0059,61.1826 Q552.7275,61.4814 551.3164,61.4814 Q546.3027,61.4814 543.6631,58.1777 Q541.0234,54.874 541.0234,48.6318 Q541.0234,42.373 543.6631,39.0693 Q546.3027,35.7656 551.3164,35.7656 Q552.7275,35.7656 554.0225,36.0645 Q555.3174,36.3633 556.4463,36.9609 L556.4463,42.4063 Q555.1846,41.2441 553.9976,40.7046 Q552.8105,40.165 551.5488,40.165 Q548.8594,40.165 547.4897,42.2983 Q546.1201,44.4316 546.1201,48.6318 Q546.1201,52.8154 547.4897,54.9487 Q548.8594,57.082 551.5488,57.082 Q552.8105,57.082 553.9976,56.5425 Q555.1846,56.0029 556.4463,54.8408 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="84" x="592.5" y="57.0703">Thread</text><line style="stroke: #A80036; stroke-width: 3.0;" x1="14" x2="1190" y1="80" y2="80"/><ellipse cx="34" cy="103.9551" fill="none" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="418" x="52" y="109.2695">type Result[A] = Either[ThreadError, A]</text><ellipse cx="34" cy="129.8652" fill="none" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="128" x="52" y="135.1797">id: ThreadId</text><line style="stroke: #A80036; stroke-width: 3.0;" x1="14" x2="1190" y1="147.8203" y2="147.8203"/><ellipse cx="34" cy="171.7754" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="1044" x="52" y="177.0898">def joinAdministratorIds(value: AdministratorIds, senderId: AccountId, at: Instant): Result[Thread]</text><ellipse cx="34" cy="197.6855" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="1058" x="52" y="203">def leaveAdministratorIds(value: AdministratorIds, senderId: AccountId, at: Instant): Result[Thread]</text><ellipse cx="34" cy="223.5957" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="764" x="52" y="228.9102">def getAdministratorIds(senderId: AccountId): Result[AdministratorIds]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="58" y="254.8203"/><ellipse cx="34" cy="275.416" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="916" x="52" y="280.7305">def joinMemberIds(value: MemberIds, senderId: AccountId, at: Instant): Result[Thread]</text><ellipse cx="34" cy="301.3262" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="930" x="52" y="306.6406">def leaveMemberIds(value: MemberIds, senderId: AccountId, at: Instant): Result[Thread]</text><ellipse cx="34" cy="327.2363" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="636" x="52" y="332.5508">def getMemberIds(senderId: AccountId): Result[MemberIds]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="58" y="358.4609"/><ellipse cx="34" cy="379.0566" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="672" x="52" y="384.3711">def addMessages(values: Messages, at: Instant): Result[Thread]</text><ellipse cx="34" cy="404.9668" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="1128" x="52" y="410.2813">def removeMessages(values: MessageIds, removerId: AccountId, at: Instant): Result[(Thread, MessageIds)]</text><ellipse cx="34" cy="430.877" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="608" x="52" y="436.1914">def getMessages(senderId: AccountId): Result[Messages]</text><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="0" x="58" y="462.1016"/><ellipse cx="34" cy="482.6973" fill="#84BE84" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="642" x="52" y="488.0117">def destroy(senderId: AccountId, at: Instant): Result[Thread]</text><!--class ThreadEvent--><rect fill="#FEFECE" filter="url(#fzlchimitjcj)" height="173.7305" id="ThreadEvent" style="stroke: #A80036; stroke-width: 3.0;" width="250" x="1263" y="171"/><ellipse cx="1311" cy="203" fill="#A9DCDF" rx="22" ry="22" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1311.2266,194.1963 L1308.9189,204.3398 L1313.5508,204.3398 Z M1308.2383,189.7139 L1314.2314,189.7139 L1320.9219,214.5 L1316.0244,214.5 L1314.4971,208.374 L1307.9395,208.374 L1306.4453,214.5 L1301.5479,214.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="146" x="1343" y="212.0703">ThreadEvent</text><line style="stroke: #A80036; stroke-width: 3.0;" x1="1265" x2="1511" y1="235" y2="235"/><ellipse cx="1285" cy="258.9551" fill="none" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="186" x="1303" y="264.2695">id: ThreadEventId</text><ellipse cx="1285" cy="284.8652" fill="none" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="198" x="1303" y="290.1797">threadId: ThreadId</text><ellipse cx="1285" cy="310.7754" fill="none" rx="6" ry="6" style="stroke: #038048; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="22" lengthAdjust="spacingAndGlyphs" textLength="176" x="1303" y="316.0898">createAt: Instant</text><line style="stroke: #A80036; stroke-width: 3.0;" x1="1265" x2="1511" y1="328.7305" y2="328.7305"/><!--class ThreadCreated--><rect fill="#FEFECE" filter="url(#fzlchimitjcj)" height="96" id="ThreadCreated" style="stroke: #A80036; stroke-width: 3.0;" width="240" x="20" y="620"/><ellipse cx="50" cy="652" fill="#ADD1B2" rx="22" ry="22" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M54.9463,664.2861 Q53.7842,664.8838 52.5059,665.1826 Q51.2275,665.4814 49.8164,665.4814 Q44.8027,665.4814 42.1631,662.1777 Q39.5234,658.874 39.5234,652.6318 Q39.5234,646.373 42.1631,643.0693 Q44.8027,639.7656 49.8164,639.7656 Q51.2275,639.7656 52.5225,640.0645 Q53.8174,640.3633 54.9463,640.9609 L54.9463,646.4063 Q53.6846,645.2441 52.4976,644.7046 Q51.3105,644.165 50.0488,644.165 Q47.3594,644.165 45.9897,646.2983 Q44.6201,648.4316 44.6201,652.6318 Q44.6201,656.8154 45.9897,658.9487 Q47.3594,661.082 50.0488,661.082 Q51.3105,661.082 52.4976,660.5425 Q53.6846,660.0029 54.9463,658.8408 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="176" x="78" y="661.0703">ThreadCreated</text><line style="stroke: #A80036; stroke-width: 3.0;" x1="22" x2="258" y1="684" y2="684"/><line style="stroke: #A80036; stroke-width: 3.0;" x1="22" x2="258" y1="700" y2="700"/><!--class ThreadDestroyed--><rect fill="#FEFECE" filter="url(#fzlchimitjcj)" height="96" id="ThreadDestroyed" style="stroke: #A80036; stroke-width: 3.0;" width="266" x="331" y="620"/><ellipse cx="361" cy="652" fill="#ADD1B2" rx="22" ry="22" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M365.9463,664.2861 Q364.7842,664.8838 363.5059,665.1826 Q362.2275,665.4814 360.8164,665.4814 Q355.8027,665.4814 353.1631,662.1777 Q350.5234,658.874 350.5234,652.6318 Q350.5234,646.373 353.1631,643.0693 Q355.8027,639.7656 360.8164,639.7656 Q362.2275,639.7656 363.5225,640.0645 Q364.8174,640.3633 365.9463,640.9609 L365.9463,646.4063 Q364.6846,645.2441 363.4976,644.7046 Q362.3105,644.165 361.0488,644.165 Q358.3594,644.165 356.9897,646.2983 Q355.6201,648.4316 355.6201,652.6318 Q355.6201,656.8154 356.9897,658.9487 Q358.3594,661.082 361.0488,661.082 Q362.3105,661.082 363.4976,660.5425 Q364.6846,660.0029 365.9463,658.8408 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="202" x="389" y="661.0703">ThreadDestroyed</text><line style="stroke: #A80036; stroke-width: 3.0;" x1="333" x2="595" y1="684" y2="684"/><line style="stroke: #A80036; stroke-width: 3.0;" x1="333" x2="595" y1="700" y2="700"/><!--class AdministratorIdsJoined--><rect fill="#FEFECE" filter="url(#fzlchimitjcj)" height="96" id="AdministratorIdsJoined" style="stroke: #A80036; stroke-width: 3.0;" width="326" x="667" y="620"/><ellipse cx="697" cy="652" fill="#ADD1B2" rx="22" ry="22" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M701.9463,664.2861 Q700.7842,664.8838 699.5059,665.1826 Q698.2275,665.4814 696.8164,665.4814 Q691.8027,665.4814 689.1631,662.1777 Q686.5234,658.874 686.5234,652.6318 Q686.5234,646.373 689.1631,643.0693 Q691.8027,639.7656 696.8164,639.7656 Q698.2275,639.7656 699.5225,640.0645 Q700.8174,640.3633 701.9463,640.9609 L701.9463,646.4063 Q700.6846,645.2441 699.4976,644.7046 Q698.3105,644.165 697.0488,644.165 Q694.3594,644.165 692.9897,646.2983 Q691.6201,648.4316 691.6201,652.6318 Q691.6201,656.8154 692.9897,658.9487 Q694.3594,661.082 697.0488,661.082 Q698.3105,661.082 699.4976,660.5425 Q700.6846,660.0029 701.9463,658.8408 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="262" x="725" y="661.0703">AdministratorIdsJoined</text><line style="stroke: #A80036; stroke-width: 3.0;" x1="669" x2="991" y1="684" y2="684"/><line style="stroke: #A80036; stroke-width: 3.0;" x1="669" x2="991" y1="700" y2="700"/><!--class AdministratorIdsLeft--><rect fill="#FEFECE" filter="url(#fzlchimitjcj)" height="96" id="AdministratorIdsLeft" style="stroke: #A80036; stroke-width: 3.0;" width="296" x="1064" y="620"/><ellipse cx="1094" cy="652" fill="#ADD1B2" rx="22" ry="22" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1098.9463,664.2861 Q1097.7842,664.8838 1096.5059,665.1826 Q1095.2275,665.4814 1093.8164,665.4814 Q1088.8027,665.4814 1086.1631,662.1777 Q1083.5234,658.874 1083.5234,652.6318 Q1083.5234,646.373 1086.1631,643.0693 Q1088.8027,639.7656 1093.8164,639.7656 Q1095.2275,639.7656 1096.5225,640.0645 Q1097.8174,640.3633 1098.9463,640.9609 L1098.9463,646.4063 Q1097.6846,645.2441 1096.4976,644.7046 Q1095.3105,644.165 1094.0488,644.165 Q1091.3594,644.165 1089.9897,646.2983 Q1088.6201,648.4316 1088.6201,652.6318 Q1088.6201,656.8154 1089.9897,658.9487 Q1091.3594,661.082 1094.0488,661.082 Q1095.3105,661.082 1096.4976,660.5425 Q1097.6846,660.0029 1098.9463,658.8408 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="232" x="1122" y="661.0703">AdministratorIdsLeft</text><line style="stroke: #A80036; stroke-width: 3.0;" x1="1066" x2="1358" y1="684" y2="684"/><line style="stroke: #A80036; stroke-width: 3.0;" x1="1066" x2="1358" y1="700" y2="700"/><!--class MemberIdsJoined--><rect fill="#FEFECE" filter="url(#fzlchimitjcj)" height="96" id="MemberIdsJoined" style="stroke: #A80036; stroke-width: 3.0;" width="266" x="1431" y="620"/><ellipse cx="1461" cy="652" fill="#ADD1B2" rx="22" ry="22" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1465.9463,664.2861 Q1464.7842,664.8838 1463.5059,665.1826 Q1462.2275,665.4814 1460.8164,665.4814 Q1455.8027,665.4814 1453.1631,662.1777 Q1450.5234,658.874 1450.5234,652.6318 Q1450.5234,646.373 1453.1631,643.0693 Q1455.8027,639.7656 1460.8164,639.7656 Q1462.2275,639.7656 1463.5225,640.0645 Q1464.8174,640.3633 1465.9463,640.9609 L1465.9463,646.4063 Q1464.6846,645.2441 1463.4976,644.7046 Q1462.3105,644.165 1461.0488,644.165 Q1458.3594,644.165 1456.9897,646.2983 Q1455.6201,648.4316 1455.6201,652.6318 Q1455.6201,656.8154 1456.9897,658.9487 Q1458.3594,661.082 1461.0488,661.082 Q1462.3105,661.082 1463.4976,660.5425 Q1464.6846,660.0029 1465.9463,658.8408 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="202" x="1489" y="661.0703">MemberIdsJoined</text><line style="stroke: #A80036; stroke-width: 3.0;" x1="1433" x2="1695" y1="684" y2="684"/><line style="stroke: #A80036; stroke-width: 3.0;" x1="1433" x2="1695" y1="700" y2="700"/><!--class MemberIdsLeft--><rect fill="#FEFECE" filter="url(#fzlchimitjcj)" height="96" id="MemberIdsLeft" style="stroke: #A80036; stroke-width: 3.0;" width="236" x="1768" y="620"/><ellipse cx="1798" cy="652" fill="#ADD1B2" rx="22" ry="22" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1802.9463,664.2861 Q1801.7842,664.8838 1800.5059,665.1826 Q1799.2275,665.4814 1797.8164,665.4814 Q1792.8027,665.4814 1790.1631,662.1777 Q1787.5234,658.874 1787.5234,652.6318 Q1787.5234,646.373 1790.1631,643.0693 Q1792.8027,639.7656 1797.8164,639.7656 Q1799.2275,639.7656 1800.5225,640.0645 Q1801.8174,640.3633 1802.9463,640.9609 L1802.9463,646.4063 Q1801.6846,645.2441 1800.4976,644.7046 Q1799.3105,644.165 1798.0488,644.165 Q1795.3594,644.165 1793.9897,646.2983 Q1792.6201,648.4316 1792.6201,652.6318 Q1792.6201,656.8154 1793.9897,658.9487 Q1795.3594,661.082 1798.0488,661.082 Q1799.3105,661.082 1800.4976,660.5425 Q1801.6846,660.0029 1802.9463,658.8408 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="172" x="1826" y="661.0703">MemberIdsLeft</text><line style="stroke: #A80036; stroke-width: 3.0;" x1="1770" x2="2002" y1="684" y2="684"/><line style="stroke: #A80036; stroke-width: 3.0;" x1="1770" x2="2002" y1="700" y2="700"/><!--class MessagesAdded--><rect fill="#FEFECE" filter="url(#fzlchimitjcj)" height="96" id="MessagesAdded" style="stroke: #A80036; stroke-width: 3.0;" width="254" x="2075" y="620"/><ellipse cx="2105" cy="652" fill="#ADD1B2" rx="22" ry="22" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M2109.9463,664.2861 Q2108.7842,664.8838 2107.5059,665.1826 Q2106.2275,665.4814 2104.8164,665.4814 Q2099.8027,665.4814 2097.1631,662.1777 Q2094.5234,658.874 2094.5234,652.6318 Q2094.5234,646.373 2097.1631,643.0693 Q2099.8027,639.7656 2104.8164,639.7656 Q2106.2275,639.7656 2107.5225,640.0645 Q2108.8174,640.3633 2109.9463,640.9609 L2109.9463,646.4063 Q2108.6846,645.2441 2107.4976,644.7046 Q2106.3105,644.165 2105.0488,644.165 Q2102.3594,644.165 2100.9897,646.2983 Q2099.6201,648.4316 2099.6201,652.6318 Q2099.6201,656.8154 2100.9897,658.9487 Q2102.3594,661.082 2105.0488,661.082 Q2106.3105,661.082 2107.4976,660.5425 Q2108.6846,660.0029 2109.9463,658.8408 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="190" x="2133" y="661.0703">MessagesAdded</text><line style="stroke: #A80036; stroke-width: 3.0;" x1="2077" x2="2327" y1="684" y2="684"/><line style="stroke: #A80036; stroke-width: 3.0;" x1="2077" x2="2327" y1="700" y2="700"/><!--class MessagesRemoved--><rect fill="#FEFECE" filter="url(#fzlchimitjcj)" height="96" id="MessagesRemoved" style="stroke: #A80036; stroke-width: 3.0;" width="284" x="2400" y="620"/><ellipse cx="2430" cy="652" fill="#ADD1B2" rx="22" ry="22" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M2434.9463,664.2861 Q2433.7842,664.8838 2432.5059,665.1826 Q2431.2275,665.4814 2429.8164,665.4814 Q2424.8027,665.4814 2422.1631,662.1777 Q2419.5234,658.874 2419.5234,652.6318 Q2419.5234,646.373 2422.1631,643.0693 Q2424.8027,639.7656 2429.8164,639.7656 Q2431.2275,639.7656 2432.5225,640.0645 Q2433.8174,640.3633 2434.9463,640.9609 L2434.9463,646.4063 Q2433.6846,645.2441 2432.4976,644.7046 Q2431.3105,644.165 2430.0488,644.165 Q2427.3594,644.165 2425.9897,646.2983 Q2424.6201,648.4316 2424.6201,652.6318 Q2424.6201,656.8154 2425.9897,658.9487 Q2427.3594,661.082 2430.0488,661.082 Q2431.3105,661.082 2432.4976,660.5425 Q2433.6846,660.0029 2434.9463,658.8408 Z "/><text fill="#000000" font-family="sans-serif" font-size="24" lengthAdjust="spacingAndGlyphs" textLength="220" x="2458" y="661.0703">MessagesRemoved</text><line style="stroke: #A80036; stroke-width: 3.0;" x1="2402" x2="2682" y1="684" y2="684"/><line style="stroke: #A80036; stroke-width: 3.0;" x1="2402" x2="2682" y1="700" y2="700"/><!--link ThreadEvent to ThreadCreated--><path d="M1332.9542,381.321 C1306.8978,425.7832 1271.3888,471.8834 1226,500 C871.709,719.4694 703.3054,531.7324 296,620 C284.3688,622.5206 272.355,625.5062 260.3974,628.7362 " fill="none" id="ThreadEvent-ThreadCreated" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="none" points="1320.9162,374.1486,1352.2294,345.592,1345.5588,387.443,1320.9162,374.1486" style="stroke: #A80036; stroke-width: 2.0;"/><!--link ThreadEvent to ThreadDestroyed--><path d="M1331.3052,380.658 C1305.1654,424.5996 1270.0322,470.5108 1226,500 C1002.217,649.8718 893.6892,556.288 632,620 C620.8004,622.7268 609.2238,625.7016 597.6292,628.7908 " fill="none" id="ThreadEvent-ThreadDestroyed" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="none" points="1319.1682,373.6752,1350.7412,345.406,1343.6884,387.1942,1319.1682,373.6752" style="stroke: #A80036; stroke-width: 2.0;"/><!--link ThreadEvent to AdministratorIdsJoined--><path d="M1325.7646,379.7358 C1299.497,422.0788 1265.72,467.1468 1226,500 C1158.67,555.69 1070.1682,595.5672 993.9108,622.4532 " fill="none" id="ThreadEvent-AdministratorIdsJoined" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="none" points="1313.733,372.5768,1346.029,345.1364,1337.894,386.7276,1313.733,372.5768" style="stroke: #A80036; stroke-width: 2.0;"/><!--link ThreadEvent to AdministratorIdsLeft--><path d="M1334.6386,382.3078 C1300.3092,462.2798 1257.6112,561.7464 1232.7192,619.7338 " fill="none" id="ThreadEvent-AdministratorIdsLeft" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="none" points="1321.8162,376.6864,1350.4594,345.4524,1347.5458,387.7314,1321.8162,376.6864" style="stroke: #A80036; stroke-width: 2.0;"/><!--link ThreadEvent to MemberIdsJoined--><path d="M1441.3614,382.3078 C1475.6908,462.2798 1518.3888,561.7464 1543.2808,619.7338 " fill="none" id="ThreadEvent-MemberIdsJoined" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="none" points="1428.4542,387.7314,1425.5406,345.4524,1454.1838,376.6864,1428.4542,387.7314" style="stroke: #A80036; stroke-width: 2.0;"/><!--link ThreadEvent to MemberIdsLeft--><path d="M1525.281,371.0226 C1624.5046,452.7126 1753.5868,558.9852 1827.3742,619.7338 " fill="none" id="ThreadEvent-MemberIdsLeft" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="none" points="1516.205,381.6848,1494.2226,345.4524,1534.002,360.0682,1516.205,381.6848" style="stroke: #A80036; stroke-width: 2.0;"/><!--link ThreadEvent to MessagesAdded--><path d="M1549.5548,339.3728 C1715.8782,423.1476 1969.4882,550.8872 2106.3758,619.8354 " fill="none" id="ThreadEvent-MessagesAdded" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="none" points="1542.83,351.6614,1513.4036,321.164,1555.4258,326.6544,1542.83,351.6614" style="stroke: #A80036; stroke-width: 2.0;"/><!--link ThreadEvent to MessagesRemoved--><path d="M1550.991,315.9084 C1780.134,397.3196 2193.2974,544.1108 2406.526,619.868 " fill="none" id="ThreadEvent-MessagesRemoved" style="stroke: #A80036; stroke-width: 2.0;"/><polygon fill="none" points="1546.1492,329.0456,1513.1444,302.462,1555.5232,302.6614,1546.1492,329.0456" style="stroke: #A80036; stroke-width: 2.0;"/><!--
@startuml

class Thread {
    + type Result[A] = Either[ThreadError, A]
    + id: ThreadId

    + def joinAdministratorIds(value: AdministratorIds, senderId: AccountId, at: Instant): Result[Thread]
    + def leaveAdministratorIds(value: AdministratorIds, senderId: AccountId, at: Instant): Result[Thread]
    + def getAdministratorIds(senderId: AccountId): Result[AdministratorIds]

    + def joinMemberIds(value: MemberIds, senderId: AccountId, at: Instant): Result[Thread]
    + def leaveMemberIds(value: MemberIds, senderId: AccountId, at: Instant): Result[Thread]
    + def getMemberIds(senderId: AccountId): Result[MemberIds]

    + def addMessages(values: Messages, at: Instant): Result[Thread]
    + def removeMessages(values: MessageIds, removerId: AccountId, at: Instant): Result[(Thread, MessageIds)]
    + def getMessages(senderId: AccountId): Result[Messages]

    + def destroy(senderId: AccountId, at: Instant): Result[Thread]
}

abstract class ThreadEvent {
    + id: ThreadEventId
    + threadId: ThreadId
    + createAt: Instant
}

class ThreadCreated extends ThreadEvent
class ThreadDestroyed extends ThreadEvent
class AdministratorIdsJoined extends ThreadEvent
class AdministratorIdsLeft extends ThreadEvent
class MemberIdsJoined extends ThreadEvent
class MemberIdsLeft extends ThreadEvent
class MessagesAdded extends ThreadEvent
class MessagesRemoved extends ThreadEvent

@enduml

PlantUML version 1.2019.05(Sun Apr 21 01:45:36 JST 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1343-b28
Operating System: Mac OS X
OS Version: 10.14.5
Default Encoding: UTF-8
Language: ja
Country: JP
--></g></svg>